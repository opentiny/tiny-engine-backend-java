<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tinyengine.it.mapper.BlockHistoriesMapper">

    <!-- 通用设置 -->

    <!-- 通用查询列 -->
    <sql id="Base_Column_List">
        id
        , message, content, assets, build_info, created_at, updated_at, screenshot, `path`, label, description, mode, block_id, version, npm_name, i18n, created_app, content_blocks, created_by, updated_by
    </sql>

    <!-- 通用条件列 -->
    <sql id="BlockHistoriesByCondition">
        <if test="message!=null and message!=''">
            AND message = #{message}
        </if>
        <if test="content!=null and content!=''">
            AND content = #{content}
        </if>
        <if test="assets!=null and assets!=''">
            AND assets = #{assets}
        </if>
        <if test="buildInfo!=null and buildInfo!=''">
            AND build_info = #{buildInfo}
        </if>
        <if test="createdAt!=null and createdAt!=''">
            AND created_at = #{createdAt}
        </if>
        <if test="updatedAt!=null and updatedAt!=''">
            AND updated_at = #{updatedAt}
        </if>
        <if test="screenshot!=null and screenshot!=''">
            AND screenshot = #{screenshot}
        </if>
        <if test="path!=null and path!=''">
            AND `path` = #{path}
        </if>
        <if test="label!=null and label!=''">
            AND label = #{label}
        </if>
        <if test="description!=null and description!=''">
            AND description = #{description}
        </if>
        <if test="mode!=null and mode!=''">
            AND mode = #{mode}
        </if>
        <if test="blockId!=null and blockId!=''">
            AND block_id = #{blockId}
        </if>
        <if test="version!=null and version!=''">
            AND version = #{version}
        </if>
        <if test="npmName!=null and npmName!=''">
            AND npm_name = #{npmName}
        </if>
        <if test="i18n!=null and i18n!=''">
            AND i18n = #{i18n}
        </if>
        <if test="createdApp!=null and createdApp!=''">
            AND created_app = #{createdApp}
        </if>
        <if test="contentBlocks!=null and contentBlocks!=''">
            AND content_blocks = #{contentBlocks}
        </if>
        <if test="createdBy!=null and createdBy!=''">
            AND created_by = #{createdBy}
        </if>
        <if test="updatedBy!=null and updatedBy!=''">
            AND updated_by = #{updatedBy}
        </if>
    </sql>

    <!-- 通用设置列 -->
    <sql id="BlockHistoriesSetColumns">
        <if test="message!=null and message!=''">
            message = #{message},
        </if>
        <if test="content!=null and content!=''">
            content = #{content},
        </if>
        <if test="assets!=null and assets!=''">
            assets = #{assets},
        </if>
        <if test="buildInfo!=null and buildInfo!=''">
            build_info = #{buildInfo},
        </if>
        <if test="createdAt!=null and createdAt!=''">
            created_at = #{createdAt},
        </if>
        <if test="updatedAt!=null and updatedAt!=''">
            updated_at = #{updatedAt},
        </if>
        <if test="screenshot!=null and screenshot!=''">
            screenshot = #{screenshot},
        </if>
        <if test="path!=null and path!=''">
            `path` = #{path},
        </if>
        <if test="label!=null and label!=''">
            label = #{label},
        </if>
        <if test="description!=null and description!=''">
            description = #{description},
        </if>
        <if test="mode!=null and mode!=''">
            mode = #{mode},
        </if>
        <if test="blockId!=null and blockId!=''">
            block_id = #{blockId},
        </if>
        <if test="version!=null and version!=''">
            version = #{version},
        </if>
        <if test="npmName!=null and npmName!=''">
            npm_name = #{npmName},
        </if>
        <if test="i18n!=null and i18n!=''">
            i18n = #{i18n},
        </if>
        <if test="createdApp!=null and createdApp!=''">
            created_app = #{createdApp},
        </if>
        <if test="contentBlocks!=null and contentBlocks!=''">
            content_blocks = #{contentBlocks},
        </if>
        <if test="createdBy!=null and createdBy!=''">
            created_by = #{createdBy},
        </if>
        <if test="updatedBy!=null and updatedBy!=''">
            updated_by = #{updatedBy},
        </if>
    </sql>


    <!-- 通用查询映射结果 -->
    <resultMap id="BlockHistoriesMap" type="com.tinyengine.it.model.entity.BlockHistories">
        <id column="id" property="id"/>
        <result column="message" property="message"/>
        <result column="content" property="content"/>
        <result column="assets" property="assets"/>
        <result column="build_info" property="buildInfo"/>
        <result column="created_at" property="createdAt"/>
        <result column="updated_at" property="updatedAt"/>
        <result column="screenshot" property="screenshot"/>
        <result column="path" property="path"/>
        <result column="label" property="label"/>
        <result column="description" property="description"/>
        <result column="mode" property="mode"/>
        <result column="block_id" property="blockId"/>
        <result column="version" property="version"/>
        <result column="npm_name" property="npmName"/>
        <result column="i18n" property="i18n"/>
        <result column="created_app" property="createdApp"/>
        <result column="content_blocks" property="contentBlocks"/>
        <result column="created_by" property="createdBy"/>
        <result column="updated_by" property="updatedBy"/>
    </resultMap>

    <!-- 查询表block_histories所有数据 -->
    <select id="findAllBlockHistories" resultMap="BlockHistoriesMap">
        SELECT
        <include refid="Base_Column_List"/>
        FROM block_histories
    </select>

    <!-- 根据主键id查询表block_histories信息 -->
    <select id="findBlockHistoriesById" resultMap="BlockHistoriesMap">
        SELECT
        <include refid="Base_Column_List"/>
        FROM block_histories
        WHERE id=#{id}
    </select>

    <!-- 根据条件查询表block_histories数据 -->
    <select id="findBlockHistoriesByCondition" resultMap="BlockHistoriesMap">
        SELECT
        <include refid="Base_Column_List"/>
        FROM block_histories
        WHERE 1=1
        <include refid="BlockHistoriesByCondition"/>
    </select>

    <!-- 根据主键id删除表block_histories数据 -->
    <delete id="deleteBlockHistoriesById">
        DELETE
        FROM block_histories
        WHERE id = #{id}
    </delete>

    <!-- 根据主键id更新表block_histories数据 -->
    <update id="updateBlockHistoriesById" parameterType="com.tinyengine.it.model.entity.BlockHistories">
        UPDATE block_histories
        <set>
            <include refid="BlockHistoriesSetColumns"/>
        </set>
        WHERE
        id=#{id}
    </update>

    <!-- 新增表block_histories数据 -->
    <insert id="createBlockHistories" useGeneratedKeys="true" keyProperty="id"
            parameterType="com.tinyengine.it.model.entity.BlockHistories">
        INSERT INTO block_histories ( id
                                    , message
                                    , content
                                    , assets
                                    , build_info
                                    , created_at
                                    , updated_at
                                    , screenshot
                                    , path
                                    , label
                                    , description
                                    , mode
                                    , block_id
                                    , version
                                    , npm_name
                                    , i18n
                                    , created_app
                                    , content_blocks
                                    , created_by
                                    , updated_by)
        VALUES ( #{id}
               , #{message}
               , #{content}
               , #{assets}
               , #{buildInfo}
               , #{createdAt}
               , #{updatedAt}
               , #{screenshot}
               , #{path}
               , #{label}
               , #{description}
               , #{mode}
               , #{blockId}
               , #{version}
               , #{npmName}
               , #{i18n}
               , #{createdApp}
               , #{contentBlocks}
               , #{createdBy}
               , #{updatedBy})
    </insert>
    <!-- 根据条件查询表block_histories数据 -->
    <select id="findBlockHistoriesByIds" resultMap="BlockHistoriesMap">
        SELECT
        <include refid="Base_Column_List"/>
        FROM block_histories
        WHERE id IN
        <foreach item="id" collection="blockHistoriesIds" open="(" separator="," close=")">
            #{id}
        </foreach>
    </select>
</mapper>
